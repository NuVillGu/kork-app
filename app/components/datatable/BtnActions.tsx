import React from "react";
import Link from "@/node_modules/next/link";
import Button from "@/node_modules/react-bootstrap/esm/Button";
import { deleteProduct } from "@/app/lib/actions";

function BtnActions({ className, id, elements, setElements, setSeleccionados, setDisabled }) {

    const handleDelete = async () => {
        await deleteProduct(id);
        const updatedElements = elements.filter(element => element.id !== id);
        setElements(updatedElements);
        setSeleccionados(0);
        setDisabled(true);
    }

    return (
        <div className={className}>
            <Link href={`/products/view/${id}`} className="btn-action btn-view">
                <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="18px" height="17px" viewBox="0 0 630 550">
                    <g transform="translate(0,490) scale(0.1,-0.1)" fill="#000000">
                        <path d="M2945 4889 c-368 -26 -704 -115 -1030 -274 -496 -242 -914 -579 -1285 -1035 -241 -297 -461 -661 -593 -980 -61 -148 -42 -243 108 -535 351 -684 889 -1273 1485 -1625 531 -314 959 -434 1545 -433 576 0 1081 162 1623 520 79 52 198 138 265 192 145 117 465 440 595 599 314 387 642 968 642 1137 0 55 -30 136 -106 288 -323 648 -780 1197 -1307 1570 -232 165 -577 350 -787 422 -235 81 -500 135 -769 155 -150 11 -211 11 -386 -1z m415 -350 c337 -31 663 -125 940 -271 325 -171 563 -350 830 -624 288 -296 473 -540 659 -872 69 -122 151 -298 151 -323 0 -25 -93 -222 -157 -333 -201 -352 -383 -586 -698 -902 -135 -136 -229 -219 -325 -291 -437 -325 -837 -493 -1325 -554 -146 -18 -454 -16 -610 5 -343 45 -639 144 -930 310 -280 160 -455 295 -696 535 -306 307 -494 549 -687 888 -70 122 -162 316 -162 342 0 25 82 201 151 323 198 353 385 596 698 909 251 249 451 401 737 558 432 237 945 345 1424 300z"/>
                        <path d="M2955 3835 c-115 -16 -211 -40 -305 -77 -480 -189 -807 -593 -887 -1093 -21 -132 -13 -392 15 -520 80 -357 298 -667 617 -874 143 -94 287 -152 472 -193 140 -30 416 -30 556 0 441 97 788 368 983 767 93 191 134 377 134 605 0 229 -41 414 -134 605 -268 549 -853 864 -1451 780z m406 -359 c259 -51 502 -217 655 -446 105 -158 158 -306 173 -482 27 -319 -78 -607 -301 -831 -128 -129 -237 -198 -398 -254 -123 -44 -209 -58 -345 -58 -136 0 -222 15 -345 58 -116 40 -181 74 -277 146 -209 156 -355 384 -408 636 -22 102 -22 302 -2 406 83 415 440 767 842 828 44 7 87 14 95 16 32 8 238 -5 311 -19z"/>
                    </g>
                </svg>
            </Link>
            <Link href={`/products/edit/${id}`} className="btn-action btn-edit">
                <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="17px" height="17px" viewBox="0 0 440 470">
                    <g transform="translate(0,420) scale(0.1,-0.1)" fill="#000000">
                        <path d="M1667 2802 l-1397 -1397 -95 -495 c-109 -567 -169 -899 -164 -904 6 -5 360 59 911 165 l487 93 1398 1398 1398 1398 -570 570 -570 570 -1398 -1398z m1860 71 l-187 -188 -320 320 c-176 176 -320 324 -320 330 0 5 82 92 182 192 l183 183 325 -325 325 -325 -188 -187z m-754 -111 l318 -318 -926 -925 c-509 -508 -936 -927 -948 -931 -38 -12 -768 -151 -771 -147 -2 2 29 173 70 379 40 206 74 381 74 389 0 15 1839 1869 1855 1870 6 1 153 -142 328 -317z"/>
                    </g>
                </svg>
            </Link>
            <Button onClick={handleDelete} className="btn-action btn-remove">
                <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="18px" height="16px" viewBox="0 0 480 570">
                    <g transform="translate(10,560) scale(0.1,-0.1)" fill="#000000">
                        <path d="M1439 5252 l-216 -347 -606 -3 -607 -2 0 -175 0 -175 185 0 185 0 0 -27 c1 -16 74 -1038 163 -2273 l163 -2245 1747 -3 1747 -2 4 22 c4 19 327 4496 326 4521 0 4 83 7 185 7 l185 0 0 175 0 175 -607 2 -606 3 -216 347 -216 347 -800 0 -800 0 -216 -347z m1725 -172 c58 -94 106 -172 106 -175 0 -3 -367 -5 -815 -5 -448 0 -815 2 -815 5 0 3 48 81 106 175 l106 170 603 0 603 0 106 -170z m1016 -559 c0 -16 -68 -955 -150 -2085 -83 -1131 -150 -2063 -150 -2071 0 -13 -171 -15 -1425 -15 -1192 0 -1425 2 -1425 14 0 7 -67 939 -150 2070 -82 1131 -150 2070 -150 2086 l0 30 1725 0 1725 0 0 -29z"/>
                    </g>
                </svg>
            </Button>
        </div>
    );
}

export default BtnActions;